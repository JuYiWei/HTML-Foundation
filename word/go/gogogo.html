<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>抽奖</title>
    <link href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<div class="container-fluid">
    <div class="row" style="margin-top: 88px;text-align: center">
        <div class="col-xs-4"></div>
        <div class="input-group col-xs-4">
            <span class="input-group-addon" id="sizing-addon1">总页数</span>
            <input id="page" value="250" class="form-control" aria-describedby="sizing-addon1">
        </div>
        <div class="col-xs-4"></div>
    </div>
    <div class="row" style="text-align: center;margin-top: 30px">
        <button id="btn" type="button" class="btn btn-success btn-lg" style="width:20%;" onclick="clickHandler()">开始</button>
    </div>
    <div class="row" style="text-align: center">
        <div class="col-xs-6">
            <span style="font-size: 30px">第</span>
            <p id="section" style="font-size: 66px;color: red">0</p>
            <span style="font-size: 30px">页</span>
        </div>
        <div class="col-xs-6">
            <span style="font-size: 30px">第</span>
            <p id="row" style="font-size: 66px;color: red">0</p>
            <span style="font-size: 30px">个</span>
        </div>
    </div>
</div>
<script>
    var stopFlag = true;
    function clickHandler() {
        if (stopFlag) {
            stopFlag = false;
            gogogo();
            $('#btn').text('停止');
        } else {
            stopFlag = true;
            $('#btn').text('开始');
        }
    }
    function gogogo() {
        var page = $('#page').val();
        var section = Math.floor(Math.random() * page) + 1;
        var row = Math.floor(Math.random() * 20) + 1;
        $('#section').text(section);
        $('#row').text(row);
        if (!stopFlag) {
            setTimeout(function () {
                gogogo();
            }, 100);
        }
    }
</script>
</body>
</html>